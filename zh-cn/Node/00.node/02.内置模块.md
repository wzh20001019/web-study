## 1. url

```javascript
const url = require('url')

let urlString = 'http://www.baidu.com:443/path/index.html?id=1&tag=5'

// url.parse(str)   将url字符串 解析成 一个url对象
let urlObj = url.parse(urlString)
console.log(urlObj)

// url.format(obj)   将url对象 解析成 一个url字符串
let urlStr = url.format(urlObj)
console.log(urlStr)
```

## 2. querystring 处理字符

```javascript
const querystring = require('querystring')

// 1. 将字符串  解析为  对象
let str1 = 'id=2&tag=5&name=qwe'
console.log(querystring.parse(str1, '&')) // { id: '2', tag: '5', name: 'qwe' }

// 2. 将对象  解析为  字符串
let obj = {
    id: 3,
    tag: 5,
    name: 'zxc'
}
console.log(querystring.stringify(obj, '/', '_')) // id_3/tag_5/name_zxc

// 3. 解析中文对象
let obj2 = {
    id: 3,
    tag: 5,
    name: '小文'
}

// id=3&tag=5&name=小文
let str3 = querystring.stringify(obj2, null, null, {
    encodeURIComponent(string) {
        return querystring.unescape(string)
    }
})

// 4. 对字符进行编码
let coding = querystring.escape(str1) // id%3D2%26tag%3D5%26name%3Dqwe

// 5. 对字符进行解码
let decoding = querystring.unescape(coding) // id=2&tag=5&name=qwe
```

## 3. http

```javascript
const http = require('http')
const fs = require('fs')

// 创建web服务器实例
const server = http.createServer()

// 抓取数据(了解)    发起get请求   获取数据
http.get('http://127.0.0.1:80/api', result => {
    let str = ''
    result.on('data', chunk => {
        str += chunk
    })

    result.on('end', () => {
        console.log(result)

        fs.writeFile('./01.json', result, 'utf-8', err => {
            if (!err) {
                return console.log('写入成功')
            }

            return console.log('写入失败')
        })
    })
})

// 监听客户端的请求
server.on('request', (req, res) => {
    // req  请求对象
    // req.url           客户端请求的url地址
    // req.method        客服端的method请求方式

    // res  响应对象
    res.setHeader('Content-Type', 'text/html; charset=utf-8') // 防止乱码
    res.end('内容') // 响应给客户端的内容
})

// 启动服务器
server.listen(80, () => {
    console.log('Server running at http://127.0.0.1')
})
```
