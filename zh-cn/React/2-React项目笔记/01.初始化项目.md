#### 1. 创建 react 项目

```txt
npx create-react-app 项目名
```

#### 2. 调整项目目录结构

```txt
/src
    /assets               项目资源文件，比如，图片 等
    /components           通用组件
    /pages                页面
    /store                mobx 状态仓库
    /utils                工具，比如，token、axios 的封装等

    App.js                根组件
    index.css             全局样式
    index.js              项目入口
```

#### 3. 保留核心代码

```javascript
// src/index.js

import React from 'react'
import ReactDOM from 'react-dom'
import App from './App'

ReactDOM.render(
    <React.StrictMode>
        <App />
    </React.StrictMode>,
    document.getElementById('root')
)
```

```javascript
// src/App.js

export default function App() {
    return <div>根组件</div>
}
```

#### 4. 使用 scss 预处理器

```txt
npm i sass -D
```

```scss
// index.scss React 中内置了处理 SASS 的配置, 直接使用 SASS 来写样

body {
    margin: 0;
}

#root {
    height: 100%;
}
```

#### 5. 配置路由

```txt
npm i react-router-dom

npm i history
```

```javascript
// utils/history.js   在非组件环境下拿到路由信息

import { createBrowserHistory } from 'history'
import { unstable_HistoryRouter as HistoryRouter } from 'react-router-dom'

const history = createBrowserHistory()

export { HistoryRouter, history }
```

```javascript
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom'
import { HistoryRouter, history } from './utils/history'

// 导入 lazy 函数，并修改为懒加载方式导入路由组件
import { lazy, Suspense } from 'react'

// 导入组件  lazy()懒加载
const Login = lazy(() => import('./views/login'))
const Layout = lazy(() => import('./views/layout'))

export default function App() {
    return (
        // HistoryRouter 替换 BrowserRouter   并配置history参数
        <HistoryRouter history={history}>
            {/* 路由懒加载*/}
            {/* Suspense 组件提供 fallback 属性，指定 loading 占位内容*/}
            <Suspense
                fallback={
                    <div
                        style={{
                            textAlign: 'center',
                            marginTop: 200
                        }}
                    >
                        loading...
                    </div>
                }
            >
                <Routes>
                    <Route path='/' element={<Layout />}>
                        {/* 配置嵌套路由*/}
                        {/* 二级路由默认页面 */}
                        {/*<Route index element={<组件1/>} /> */}
                        {/*<Route path="article" element={<Article />} /> */}
                    </Route>

                    <Route path='/login' element={<Login />} />
                </Routes>
            </Suspense>
        </HistoryRouter>
    )
}
```

#### 6. 配置别名路径

> 通过第三方库来修改，比如，@craco/craco (推荐)
>
> 通过执行 yarn eject 命令，释放 react-scripts 中的所有配置到项目中

```txt
npm i -D @craco/craco
```

```javascript
// 根目录  craco.config.js   配置路径别名
const path = require('path')

module.exports = {
    // webpack 配置
    webpack: {
        // 配置别名
        alias: {
            // 约定：使用 @ 表示 src 文件所在路径
            '@': path.resolve(__dirname, 'src')
        }
    }
}
```

```json
// 修改 package.json 中的脚本命令
"scripts": {
  "start": "craco start",
  "build": "craco build",
  "test": "craco test",
  "eject": "react-scripts eject"
}
```

```json
// 别名路径提示   让vscode知道@就是src目录
{
    "compilerOptions": {
        "baseUrl": "./",
        "paths": {
            "@/*": ["src/*"]
        }
    }
}
```

#### 7. 使用 mobx (类似 redux)

```txt
npm i mobx mobx-react-lite
```
